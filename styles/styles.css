/* ---
fonts
--- */

/*
  Copyright (c) 2015, Impallari Type (www.impallari.com)
  Public Sans is licensed under the SIL Open Font License v1.1
  (https://opensource.org/licenses/OFL-1.1)
  https://public-sans.digital.gov/
*/

@font-face {
  font-family: 'PublicSans';
  src: url('/s/fonts/PublicSans[wght].woff2');
  font-display: swap;
  font-weight: 100 900;
}

@font-face {
  font-family: 'Hourglass';
  src: url('/s/fonts/Hourglass Bold.woff2');
  font-display: swap;
  font-style: normal;
  font-weight: 700;
}

/* @font-face {
  font-family: 'Hourglass';
  src: url('/s/fonts/Hourglass Italic.woff2');
  font-display: swap;
  font-style: italic;
  font-weight: 400;
} */

@font-face {
  font-family: 'Hourglass';
  src: url('/s/fonts/Hourglass.woff2');
  font-display: swap;
  font-style: normal,;
  font-weight: 400;
}

/* ---
variables
--- */

:root {
  --c-dark: #011627;
  --c-mix-0: #011627;
  --c-mix-5: #0e2232;
  --c-mix-10: #1a2d3c;
  --c-mix-15: #273947;
  --c-mix-20: #334552;
  --c-mix-25: #40505c;
  --c-mix-30: #4d5c67;
  --c-mix-35: #596872;
  --c-mix-40: #66737c;
  --c-mix-45: #727f87;
  --c-mix-50: #7f8b92;
  --c-mix-55: #8c969c;
  --c-mix-60: #98a2a7;
  --c-mix-65: #a5adb1;
  --c-mix-70: #b1b9bc;
  --c-mix-75: #bec5c7;
  --c-mix-80: #cbd0d1;
  --c-mix-85: #d7dcdc;
  --c-mix-90: #e4e8e7;
  --c-mix-95: #f0f3f1;
  --c-mix-100: #fdfffc;
  --c-light: #fdfffc;
  --c-text: var(--c-mix-0);
  --c-text-alt: var(--c-mix-20);
  --c-text-alt-2: var(--c-mix-60);
  --c-bg: var(--c-mix-100);
  --c-bg-alt: var(--c-mix-95);
  --c-bg-alt-2: var(--c-mix-90);
  --c-border: var(--c-mix-80);
  --c-primary-dark-3: #400009;
  --c-primary-dark-2: #800011;
  --c-primary-dark: #bf001a;
  --c-primary: #ff0022;
  --c-primary-light: #ff4059;
  --c-primary-light-2: #ff8091;
  --c-primary-light-3: #ffbfc8;
  --c-link: var(--c-primary);
  --c-hover: var(--c-primary-dark);
  --f-body: Hourglass, sans-serif;
  --f-header: Hourglass, sans-serif;
  --f-code: Hourglass, monospace;
  --f-size: 8px;
  --f-size-big: 2em;
  --f-size-code: 1em;
  --v-border: 0.125em;
  --v-border-2: 0.25em;
  --p-corners: polygon(
    0 var(--v-border-2), var(--v-border) var(--v-border-2), var(--v-border) var(--v-border), var(--v-border-2) var(--v-border), var(--v-border-2) 0,
    calc(100% - var(--v-border-2)) 0, calc(100% - var(--v-border-2)) var(--v-border),
    calc(100% - var(--v-border)) var(--v-border), calc(100% - var(--v-border)) var(--v-border-2),
    100% var(--v-border-2), 100% calc(100% - var(--v-border-2)),
    calc(100% - var(--v-border)) calc(100% - var(--v-border-2)),
    calc(100% - var(--v-border)) calc(100% - var(--v-border)),
    calc(100% - var(--v-border-2)) calc(100% - var(--v-border)),
    calc(100% - var(--v-border-2)) 100%, var(--v-border-2) 100%,
    var(--v-border-2) calc(100% - var(--v-border)), var(--v-border) calc(100% - var(--v-border)),
    var(--v-border) calc(100% - var(--v-border-2)), 0 calc(100% - var(--v-border-2))
  ); /* pixelated corners from https://pixelcorners.lukeb.co.uk/ */
}

:where(:root).fonts-normal {
  --f-size: clamp(9px, 2.6vw, 17.5px);
  --f-body: PublicSans, sans-serif;
  --f-header: PublicSans, sans-serif;
  --f-code: monospace;
  --v-border: 1px;
  --v-border-2: 1px;
}

html {
  scrollbar-gutter: stable; /* layout stays consistent regardless of page length */
}

body {
  -webkit-font-smoothing: none;
  font-smoothing: none;
  font-family: var(--f-body);
  font-size: var(--f-size);
  letter-spacing: calc(var(--v-border) * -1);
  line-height: 1.8;
  background: var(--c-bg);
  color: var(--c-text);
  padding: 0;
  margin: 0;
}

:where(:root.fonts-normal) body {
  -webkit-font-smoothing: auto;
  font-smoothing: auto;
  font-size: var(--f-size);
  line-height: 1.6;
  letter-spacing: normal;
  font-weight: 200;
}

@media screen and (min-width: 820px) {
  :root.fonts-normal {
    --f-size: clamp(9px, 1.1vw, 17.5px);
  }
}

body {
  box-sizing: border-box;
  text-size-adjust: none; /* do not inflate text on mobile */
}

*, *:before, *:after {
  box-sizing: inherit;
  text-size-adjust: inherit;
}

a {
  color: var(--c-link);
  text-decoration: none;
}

a:hover, a:active {
  color: var(--c-hover);
}

:where(.column-sidebar) h1,
:where(.column-sidebar) h2,
:where(.column-sidebar) p,
:where(.column-sidebar) ul {
  margin: 0.5em 0;
}

h1, h2, h3, h4, h5, h6 {
  font-size: var(--f-size);
  font-weight: 400;
  font-family: var(--f-header);
  line-height: 1.6;
}

h1, h2 {
  font-size: var(--f-size-big);
  letter-spacing: calc(var(--v-border) * -1);
}

:where(:root.fonts-normal) :is(h1, h2) {
  letter-spacing: normal;
}

h1, h3, strong, b {
  font-weight: 700;
  letter-spacing: 0;
}

:where(:root.fonts-normal) :is(h1, h3, strong, b) {
  letter-spacing: normal;
  font-weight: 500;
}

:where(:root.fonts-normal) :is(h1, h2, h3, h4, h5, h6) {
  font-size: initial;
  font-weight: 200;
}

:where(:root.fonts-normal) h1 { font-size: 2.2em; }
:where(:root.fonts-normal) h2 { font-size: 1.4em; }
:where(:root.fonts-normal) h3 { font-size: 1.2em; }

code {
  color: var(--c-text-alt);
  background: var(--c-bg-alt);
  font-size: var(--f-size-code);
  font-family: var(--f-code);
}

pre {
  font-family: var(--f-code);
  font-size: var(--f-size-code);
  background: var(--c-bg-alt);
  border: var(--v-border) solid var(--c-border);
  color: var(--c-text-alt);
  padding: 1em;
  overflow: auto;
}

fieldset {
  border: var(--v-border) solid var(--c-border);
  margin: 2em 0;
  padding: 1em 2em;
  background: var(--c-bg-alt-2);
}

legend {
  padding: 0;
  margin: 0;
}

main,
.content {
  min-height: 20em;
}

main {
  padding-top: 3em;
}

@media screen and (min-width: 820px) {
  main {
    padding-top: 0;
  }
}

.content {
  margin-bottom: 4em;
}

:where(main) h1:first-child {
  margin-top: 0;
}

@media screen and (min-width: 820px) {
  :where(main) h1:first-child {
    margin-top: 0;
  }
}

hr {
  background: var(--c-border);
  height: var(--v-border);
  border: none;
  padding: 0;
}

.container {
  padding: 1em;
  max-width: 1000px;
  margin: 0 auto;
}

:where(:root.fonts-normal) .container {
  max-width: 1600px;
}

@media screen and (min-width: 820px) {
  .container {
    padding: 1em 2em 2em;
  }
}

.column,
.masthead-nav {
  max-width: 640px;
  margin: 0 auto;
}

@media screen and (min-width: 820px) {
  .column,
  .masthead-nav {
    max-width: 100%;
    margin: 0;
  }
}

@media screen and (min-width: 820px) {
  .columns {
    --gap: 4em;
    display: grid;
    grid-template-columns: calc(31% - (var(--gap) / 2)) calc(69% - (var(--gap) / 2));
    gap: var(--gap);
  }
}

.column-sidebar {
  border-bottom: var(--v-border) solid var(--c-border);
}

@media screen and (min-width: 820px) {
  .column-sidebar {
    border-bottom: none;
  }
}

.section {
  margin-bottom: 2em;
}

@media screen and (min-width: 820px) {
  .section {
    margin-bottom: 4em;
  }
}

@media screen and (min-width: 820px) {
  :where(:root.fonts-normal) .section {
    margin-bottom: 2em;
  }
}

.listing {
  padding: 0;
}

:where(.listing) li {
  display: inline-block;
  list-style-type: none;
  margin-right: 1em;
}

:where(.listing) li:last-child {
  margin-right: 0;
}

.subdued {
  opacity: 0.5;
}

.small {
  font-size: var(--f-size);
}

:where(:root.fonts-normal) .small {
  font-size: smaller;
}

.codepen {
  /* from codepen embed */
  box-sizing: border-box; display: flex; align-items: center;
  justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;
}

.masthead-nav {
  margin-bottom: 3em;
  border-bottom: var(--v-border) solid var(--c-border);
}

@media screen and (min-width: 820px) {
  .masthead-nav {
    display: flex;
    gap: 4em;
    align-items: baseline;
    margin-bottom: 2em;
    border-bottom: none;
  }
}

:where(:root.fonts-normal) .masthead-nav {
  margin-bottom: 1em;
  border-bottom: none;
}

:where(.masthead-nav) ul {
  list-style-type: none;
  margin: 1em 0 2em;
  padding: 0;
  display: flex;
  gap: 2em;
}

:where(:root.fonts-normal .masthead-nav) h1 {
  margin-bottom: 0;
}

@media screen and (min-width: 820px) {
  .next-prev {
    display: flex;
    margin: 0;
    padding: 0;
    list-style-type: none;
    gap: 1em;
    justify-content: space-between;
  }
}

:where(.footer-nav) ul {
  list-style-type: none;
  margin: 1em 0;
  padding: 0;
  display: flex;
  gap: 2em;
}

.codepen-embed {
  margin: 2em 0;
}

.content-list {
  margin: 0;
  padding: 0;
  list-style-type: none;
}

.content-list-item {
  margin: 2em 0;
}

:where(.content-list-item) h3 {
  margin: 0;
}

.button {
  background: var(--c-primary);
  color: var(--c-bg);
  padding: 1em 1.5em;
  clip-path: var(--p-corners);
  box-shadow:
    inset 0 var(--v-border) 0 var(--c-primary-light),
    inset 0 calc(var(--v-border) * -1) 0 var(--c-primary-dark);
}

:where(:root.fonts-normal) .button {
  clip-path: none;
  border-radius: 0.25em;
  padding: 0.25em 1em;
  margin-right: 0.5em;
}

.button:hover, .button:focus, .button:active,
:where(a:hover, a:focus, a:active) .button {
  background: var(--c-primary-dark);
  color: var(--c-bg-alt);
  box-shadow:
    inset 0 var(--v-border) 0 var(--c-primary),
    inset 0 calc(var(--v-border) * -1) 0 var(--c-primary-dark-2);
}

.logo {
  font-size: var(--f-size);
  font-weight: 400;
  background: var(--c-primary);
  letter-spacing: calc(var(--v-border) * -1);
  color: var(--c-bg);
  padding: 1em;
  clip-path: var(--p-corners);
  box-shadow:
    inset 0 var(--v-border) 0 var(--c-primary-light),
    inset 0 calc(var(--v-border) * -1) 0 var(--c-primary-dark);
  position: relative;
  top: -3px;
}

:where(a:hover, a:focus, a:active) .logo {
  background: var(--c-primary-dark);
  color: var(--c-bg-alt);
  box-shadow:
    inset 0 var(--v-border) 0 var(--c-primary),
    inset 0 calc(var(--v-border) * -1) 0 var(--c-primary-dark-2);
}

:where(:root.fonts-normal) .logo {
  display: inline-block;
  position: relative;
  top: calc(1em / 1.3);
  border-radius: 100%;
  font-size: calc(1em / 2);
  font-weight: 200;
  width: 3em;
  height: 3em;
  line-height: 3em;
  overflow: hidden;
  white-space: nowrap;
  text-align: center;
  background: var(--c-link);
  color: var(--c-bg);
  margin-right: 1em;
  padding: 0;
  clip-path: none;
  box-shadow: none;
  letter-spacing: normal;
}

@media screen and (min-width: 820px) {
  :where(:root.fonts-normal) .logo {
    font-size: calc(1em / 3);
    top: calc(1em / 3);
  }
}

:where(:root.fonts-normal) :where(a:hover, a:focus, a:active) .logo {
  background: var(--c-hover);
  box-shadow: none;
}
